
<div class="collection__info" v-if="collection">
  <form action="">
    <div class="collection__info_wrapper">
      <div class="collection__info_title">
        <BreadCrumbs
          v-if="!collection.is_owner"
          :items="[{title:'Home', url: '/'}, {title:`Collection's`, url: `/collections/`} ]"/>
        <BreadCrumbs
          v-else
          :items="[{title:`Mijn Collecties`, url: `/my/collections/`} ]"/>

        <h2
          class="collection__info_ttl"
          :contenteditable="contenteditable"
          ref="title"
          @blur="onChangeTitle"
        >
          {{collection_title}}
        </h2>
        <p class="collection__info_subttl">{{ collection.materials_count }} leermaterialen</p>
      </div>
      <div class="collection__info_filter" v-if="collection.is_owner">
        <div class="collection__info_filter__edit">
          <a
            href="#"
            class="collection__info_filter__link"
            @click.prevent="setEditable(false)"
            v-if="contenteditable"
          >
            Annuleren
          </a>
          <a
            href="#"
            class="collection__info_filter__link"
            @click.prevent="setEditable(true)"
            v-else
          >
            Bewerken
          </a>
        </div>
        <div class="collection__info_filter__delete">
          <a
            href="#"
            class="collection__info_filter__link"
            @click.prevent="deleteCollection"
          >
            Verwijderen
          </a>
        </div>
        <div class="collection__info_filter__button">
          <button
            class="button"
            type="submit"
            @click.prevent="onSubmit"
            :disabled="submitting"
          >
            Opslaan
          </button>
        </div>
      </div>
    </div>
  </form>
  <DirectSearch
    class="collection__info_search"
    v-model="search"
  >
    <template slot="social_box">
      <div
        class="collection__info_search__social direct_search__social quality__social _white_color"
        ref="social_counters"
      >
        <div class="quality__check-sharing" v-if="collection.is_owner">
          <span class="quality__check-sharing--ttl">Openbaar</span>
          <label class="share-collection_switch" >
            <input
              type="checkbox"
              v-model="is_shared"
              @change="changeShared"
            >
            <span class="share-collection_slider round">
              <span class="on">Aan</span>
              <span class="off">Uit</span>
            </span>
          </label>
        </div>
        <!--<a-->
          <!--class="set_public"-->
          <!--href="#"-->
          <!--@click.prevent="showShareMaterial"-->
          <!--v-if="collection.is_owner"-->
          <!--style="color:#fff; margin-right: 10px;"-->
        <!--&gt;-->
          <!--set public-->
        <!--</a>-->

        <template
          v-show="collection.is_shared"
        >
          <social-sharing
            :url="href"
            :title="collection_title"
            :class="{'disable_share': !collection.is_owner, 'disable_share_check': !is_shared}"
            inline-template
            v-cloak
            @close="closeSocialSharing"
          >
            <div class="quality__social_links">
              <network network="linkedin" class="quality__social_link">
                <i class="quality__social--linkedin quality__social_ico"></i><span class="quality__social_counter" id="linkedin_counter"></span>
              </network>
              <network network="twitter" class="quality__social_link">
                <i class="quality__social--twitter quality__social_ico"></i> <span class="quality__social_counter" id="twitter_counter"></span>
              </network>
            </div>
          </social-sharing>
          <div class="quality__social_links">
            <a href="#share_link"
               class="quality__social_link"
               @click.prevent="showShareCollection"
               :class="{'disable_share': !collection.is_owner, 'disable_share_check': !is_shared}"
            >
              <i class="quality__social--share quality__social_ico"></i>
              <span class="quality__social_counter"  id="url_counter"></span>
            </a>
          </div>
        </template>
      </div>
    </template>
    <template slot="filter">
      <div class="direct_search__tools direct_search__filter">
        <button
          class="direct_search__tools_type_button"
          :class="{
            'direct_search__tools_type_button--list': itemsInLine === 4,
            'direct_search__tools_type_button--cards': itemsInLine === 1
          }"
          @click.prevent="changeViewType"
        >
          {{ itemsInLine === 1 ? 'Kaartweergave' : 'Lijstweergave' }}
        </button>
      </div>
    </template>
  </DirectSearch>
  <ShareMaterialCollection
    v-if="isShowShareMaterial"
    :close="closeShareMaterial"
    :is-show="isShowShareMaterial"
    :collection="collection"
    v-model="is_copied"
  ></ShareMaterialCollection>
  <ShareCollection
    v-if="isShowShareCollection"
    :close="closeShareCollection"
    :is-show="isShowShareCollection"
    :collection="collection"
    v-model="is_copied"
  ></ShareCollection>
  <DeleteCollection
    :close="closeDeleteCollection"
    :is-show="isShowDeleteCollection"
    :collection="collection"
  ></DeleteCollection>
</div>
